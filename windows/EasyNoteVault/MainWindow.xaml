<Window x:Class="EasyNoteVault.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="EasyNoteVault"
        Width="1100"
        Height="700"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F7">

    <!-- ä¸»å®¹å™¨ï¼Œå¸¦åœ†è§’å’Œé˜´å½± -->
    <Border Margin="20" 
            CornerRadius="12" 
            Background="White">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="20" ShadowDepth="4" Opacity="0.1"/>
        </Border.Effect>
        
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- é¡¶éƒ¨æ  -->
            <DockPanel Margin="0,0,0,20">
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" VerticalAlignment="Center">
                    <TextBlock Text="ðŸ“" FontSize="28" Margin="0,0,10,0"/>
                    <TextBlock Text="EasyNoteVault"
                               FontSize="26"
                               FontWeight="Bold"
                               Foreground="#1D1D1F"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            DockPanel.Dock="Right"
                            VerticalAlignment="Center">
                    <Button Content="ðŸ“¥ å¯¼å…¥"
                            Style="{StaticResource AppleButtonStyle}"
                            Margin="0,0,10,0"
                            Click="Import_Click"/>
                    <Button Content="ðŸ“¤ å¯¼å‡º"
                            Style="{StaticResource AppleButtonStyle}"
                            Click="Export_Click"/>
                </StackPanel>
            </DockPanel>

            <!-- è¡¨æ ¼ - åº”ç”¨è‹¹æžœé£Žæ ¼ -->
            <Border Grid.Row="1" 
                    CornerRadius="8" 
                    BorderBrush="#D2D2D7" 
                    BorderThickness="1"
                    ClipToBounds="True">
                <DataGrid x:Name="VaultGrid"
                          Style="{StaticResource AppleDataGridStyle}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="True"
                          CanUserDeleteRows="False"
                          IsReadOnly="False"
                          SelectionUnit="Cell"
                          HeadersVisibility="Column"
                          SelectionMode="Single"
                          BorderThickness="0">

                    <!-- å³é”®èœå• -->
                    <DataGrid.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="ðŸ“‹ ç²˜è´´" Click="PasteMenuItem_Click"/>
                        </ContextMenu>
                    </DataGrid.ContextMenu>

                    <DataGrid.Columns>
                        <!-- åç§°åˆ— -->
                        <DataGridTextColumn Header="åç§°" 
                                            Binding="{Binding Name}" 
                                            Width="120"/>
                        
                        <!-- ç½‘ç«™åˆ— -->
                        <DataGridTextColumn Header="ç½‘ç«™" 
                                            Binding="{Binding Url}" 
                                            Width="200"/>
                        
                        <!-- è´¦å·åˆ— -->
                        <DataGridTextColumn Header="è´¦å·" 
                                            Binding="{Binding Account}" 
                                            Width="180"/>
                        
                        <!-- å¯†ç åˆ—ï¼ˆå¸¦çœ¼ç›åˆ‡æ¢æŒ‰é’®ï¼‰ -->
                        <DataGridTemplateColumn Header="å¯†ç " Width="180">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                        <TextBlock Text="{Binding DisplayPassword}" 
                                                   VerticalAlignment="Center"
                                                   Margin="0,0,8,0"
                                                   MinWidth="100"/>
                                        <Button Content="{Binding EyeIcon}"
                                                Style="{StaticResource AppleIconButtonStyle}"
                                                Tag="{Binding}"
                                                Click="TogglePassword_Click"
                                                ToolTip="æ˜¾ç¤º/éšè—å¯†ç "/>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                            <DataGridTemplateColumn.CellEditingTemplate>
                                <DataTemplate>
                                    <TextBox Text="{Binding Password, UpdateSourceTrigger=PropertyChanged}" 
                                             BorderThickness="0"
                                             Padding="0"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellEditingTemplate>
                        </DataGridTemplateColumn>
                        
                        <!-- å¤‡æ³¨åˆ— -->
                        <DataGridTextColumn Header="å¤‡æ³¨" 
                                            Binding="{Binding Remark}" 
                                            Width="*"/>
                        
                        <!-- æ“ä½œåˆ—ï¼ˆåˆ é™¤æŒ‰é’®ï¼‰ -->
                        <DataGridTemplateColumn Header="æ“ä½œ" Width="70">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="ðŸ—‘ï¸ åˆ é™¤"
                                            Style="{StaticResource AppleDeleteButtonStyle}"
                                            Tag="{Binding}"
                                            Click="DeleteRow_Click"
                                            ToolTip="åˆ é™¤æ­¤è¡Œ"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- åº•éƒ¨ -->
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        Margin="0,20,0,0">
                <Button Content="âž• æ–°å¢žä¸€è¡Œ"
                        Style="{StaticResource AppleButtonStyle}"
                        Click="AddRow_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
